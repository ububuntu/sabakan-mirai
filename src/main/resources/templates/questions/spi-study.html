<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>SPI 模擬試験 | Mirai</title>
    <link rel="stylesheet" th:href="@{/css/color.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
<header th:replace="common/header :: siteHeader('spiStudyHeader')"></header>
<div th:replace="~{common/color :: svg-sprite}"></div>
<main>
    <form class="menu" action="/spi/study" method="post">

        <progress class="progress" max="100" th:value="${progress}"></progress>

        <p style="text-align: center; color: white;">
            問題 <span th:text="${currentIndex}">1</span> / <span th:text="${totalCount}">70</span>
        </p>

        <div class="menu-item">
            <p class="title" th:text="${question.spiContent}">問題文がここに表示されます</p>
        </div>

        <label class="menu-item choice-label" for="1">
            <svg class="icon icon-with-bg" width="48" height="48"><use href="#es"></use></svg>
            <input type="radio" id="1" name="answer" value="1" required>
            <span class="note" th:text="${question.spiAnswer1}">選択肢1</span>
        </label>

        <label class="menu-item choice-label" for="2">
            <svg class="icon icon-with-bg" width="48" height="48"><use href="#es"></use></svg>
            <input type="radio" id="2" name="answer" value="2">
            <span class="note" th:text="${question.spiAnswer2}">選択肢2</span>
        </label>

        <label class="menu-item choice-label" for="3">
            <svg class="icon icon-with-bg" width="48" height="48"><use href="#es"></use></svg>
            <input type="radio" id="3" name="answer" value="3">
            <span class="note" th:text="${question.spiAnswer3}">選択肢3</span>
        </label>

        <label class="menu-item choice-label" for="4">
            <svg class="icon icon-with-bg" width="48" height="48"><use href="#es"></use></svg>
            <input type="radio" id="4" name="answer" value="4">
            <span class="note" th:text="${question.spiAnswer4}">選択肢4</span>
        </label>

        <input type="hidden" name="spiId" th:value="${question.spiId}" />
        <input type="hidden" name="currentIndex" th:value="${currentIndex}" />



        <input type="hidden" name="spiId" th:value="${question.spiId}" />
        <input type="hidden" name="currentIndex" th:value="${currentIndex}" />

        <div style="margin-top: 30px; border-top: 1px solid #ddd; padding-top: 20px;">

            <div style="display: flex; justify-content: space-between; align-items: center;">

                <button type="submit" name="action" value="suspend" formnovalidate
                        style="background-color: #888; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">
                    中断して戻る
                </button>

                <button class="button-center" type="submit" name="action" value="next">
                    <span th:text="${currentIndex == 70} ? '結果を見る' : '次の問題'">次の問題</span>
                </button>
            </div>

            <div style="text-align: right; margin-top: 15px;">
                <button type="submit" name="action" value="finish" formnovalidate
                        style="background-color: #d32f2f; color: white; padding: 8px 15px; border: none; border-radius: 5px; cursor: pointer; font-size: 0.9em;">
                    ここで終了して採点する
                </button>
            </div>

        </div>
    </form>
</main>
<footer th:replace="common/footer :: siteFooter"></footer>
<script th:src="@{/js/style.js}"></script>
</body>
</html>